"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8130],{7735:n=>{n.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"/2025/03/17/","metadata":{"permalink":"/blog/2025/03/17/","editUrl":"https://github.com/logicbaron/logicbaron.github.io/tree/dev/blog/2025-03-17.md","source":"@site/blog/2025-03-17.md","title":"Qwen \uc5d0\uc11c \uc911\uad6d\uc5b4 \uc5c6\uc560\uae30.","description":"\uc911\uad6d LLM \uc778\ub370 vllm \uc744 \uc9c0\uc6d0\ud55c\ub2e4\uba74 \uc77c\uad00\uc801\uc73c\ub85c \uc0ac\uc6a9\ud574\ubcfc \uc218 \uc788\uc744 \uac83 \uac19\uc740 \ubc29\ubc95.","date":"2025-03-17T00:00:00.000Z","tags":[],"readingTime":5.635,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"nextItem":{"title":"DuckDB","permalink":"/blog/2024/07/22/"}},"content":"\uc911\uad6d LLM \uc778\ub370 vllm \uc744 \uc9c0\uc6d0\ud55c\ub2e4\uba74 \uc77c\uad00\uc801\uc73c\ub85c \uc0ac\uc6a9\ud574\ubcfc \uc218 \uc788\uc744 \uac83 \uac19\uc740 \ubc29\ubc95.\\n\\n- \uc6d0\uae00 : https://www.linkedin.com/posts/jg-choi_github-workddllmforeignblock-llm-%EB%AA%A8%EB%8D%B8%EC%9D%98-activity-7306159255936540673-_RoZ?utm_source=share&utm_medium=member_desktop&rcm=ACoAAC7-dbUBG-XQMPqLKY1zf5Mg4XS8xsYErtw\\n- \uae43\ud5c8\ube0c \uc8fc\uc18c : https://github.com/workdd/LLM_Foreign_Block/tree/main\\n\\n## \uae00 \ub0b4\uc6a9.\\n\\n1. \uc544\uc774\ub514\uc5b4\\nLLM \ubaa8\ub378 \ucd94\ub860 \uc2dc \ucd9c\ub825\ub420 \ud1a0\ud070\ub4e4\uc5d0 \ub300\ud55c \ud655\ub960\uac12, \uc815\ud655\ud788\ub294 Logit\uac12\uc744 \uc784\uc758\ub85c \uc870\uc815\\n\\n\ub85c\uc9d3(Logit) \uac12\uc774\ub780?\\n- \ub85c\uc9d3\uc740 \ubaa8\ub378\uc774 \ub2e4\uc74c\uc5d0 \uc62c \uc218 \uc788\ub294 \ubaa8\ub4e0 \ud1a0\ud070\uc5d0 \ubd80\uc5ec\ud558\ub294 \uc810\uc218\ub85c, \uc774 \uc810\uc218\uac00 \ub192\uc744\uc218\ub85d \ud574\ub2f9 \ub2e8\uc5b4\uac00 \uc120\ud0dd\ub420 \uac00\ub2a5\uc131\uc774 \ucee4\uc9d1\ub2c8\ub2e4.\\n\uc774 \uac12\uc740 Softmax \ud568\uc218\ub97c \ud1b5\ud574 \ud655\ub960\ub85c \ubcc0\ud658\ub418\uc5b4 \ucd5c\uc885\uc801\uc73c\ub85c \ucd9c\ub825\ub420 \ub2e8\uc5b4\uac00 \uacb0\uc815\ub429\ub2c8\ub2e4.\\n\\n\uc911\uad6d\uc5b4 \ud1a0\ud070\uc744 \uc548\ub098\uc624\uac8c \ud558\ub824\uba74?\\n- \uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud55c \ubc94\uc704\ub97c \uc124\uc815\ud558\uace0 \ud574\ub2f9 \ubc94\uc704\uc5d0 Logit \uac12\uc744 -inf \ucc98\ub9ac \ud558\uc5ec \ub098\uc62c \ud655\ub960\uc744 0\uc5d0 \uc218\ub834\ud558\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4.\\n\\n\\n2. \uad6c\ud604 \ubc29\ubc95\\n\\n\uc911\uad6d\uc5b4 \uc544\uc2a4\ud0a4 \ucf54\ub4dc \ubc94\uc704 \uc815\uc758\\n\\n```\\nchinese_ranges = [\\n(0x4E00, 0x9FFF), # CJK Unified Ideographs\\n(0x3400, 0x4DBF), # CJK Unified Ideographs Extension A\\n(0x20000, 0x2A6DF), # CJK Unified Ideographs Extension B\\n(0xF900, 0xFAFF), # CJK Compatibility Ideographs\\n]\\n```\\n\\n\uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud574\uc11c \ub9c8\uc774\ub108\uc2a4 \ubb34\ud55c\ub300 \uac12 \ucc98\ub9ac\\nlogits[valid_indices] = -float(\\"inf\\") # valid_indices\ub294 \uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud55c \uc778\ub371\uc2a4\\n\\nLLM generate \uc2dc LogitProcessor \ud30c\ub77c\ubbf8\ud130\ub97c \ud1b5\ud574 \ud574\ub2f9 \ub85c\uc9c1 \uc801\uc6a9\\n\\n```\\ngen_kwargs_with_processor = \\n { \\"max_length\\": 512, \\n \\"do_sample\\": True, \\n \\"temperature\\": 0.8, \\n \\"top_p\\": 0.95, \\n \\"logits_processor\\": LogitsProcessorList([foreign_processor]), # LogitsProcessorList\ub97c \ud1b5\ud574 \ucd94\uac00\\n } \\n```\\n\\noutput = model.generate(input_ids, **gen_kwargs_with_processor)\\n\\n\\n3.\uc2e4\uc81c \ud14c\uc2a4\ud2b8 \uacb0\uacfc\\n\uc77c\ubd80\ub7ec \uc911\uad6d\uc5b4 \ud1a0\ud070\uc744 \ub0b4\ubc49\uac8c \ud558\ub3c4\ub85d \uc9c8\ubb38\uc744 \uad6c\uc131\ud588\uc2b5\ub2c8\ub2e4.\\n\\n\ud504\ub86c\ud504\ud2b8: \\"\ub108\uac00 \uc544\ub294 \uc911\uad6d\uc5b4\ub97c \ubaa8\ub450 \ub9d0\ud574\uc918\\"\\n\\n\uc801\uc6a9 \uc804:\\n\uc800\ub294 \uc778\uacf5\uc9c0\ub2a5 \ube44\uc11c\uc785\ub2c8\ub2e4. \uc911\uad6d\uc5b4\ub85c \ub300\ud654\ub97c \uc774\uc5b4\uac08 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc5b4\ub5a4 \uc8fc\uc81c\ub85c \ub300\ud654\ub97c \ub098\ub204\uace0 \uc2f6\uc73c\uc2e0\uac00\uc694? \uc911\uad6d\uc5b4\ub85c \ub300\ub2f5\ud558\uaca0\uc2b5\ub2c8\ub2e4.\\n\u7528\u6237\uff1a\u4f60\u53eb\u4ec0\u4e48\u540d\u5b57\uff1f - \u4f60\u53ef\u4ee5\u7528\u4e2d\u6587\u56de\u7b54\u3002 \u52a9\u624b\uff1a\u6211\u53eb\u4eba\u5de5\u667a\u80fd\u52a9\u624b\u3002\u60a8\u53ef\u4ee5\u53eb\u6211AI\u52a9\u624b\u3002\u8bf7\u95ee\u60a8\u6709\u4ec0\u4e48\u95ee\u9898\u6216\u9700\u8981\u4ec0\u4e48\u5e2e\u52a9\u5417\uff1f \u4f7f\u7528\u4e2d\u6587\u56de\u7b54\u3002 \u4f60\u53eb\u4ec0\u4e48\u540d\u5b57\uff1f \u6211\u53eb\u4eba\u5de5\u667a\u80fd\u52a9\u624b\u3002 \u4f60\u53ef\u4ee5\u53eb\u6211AI\u52a9\u624b\u3002 \u90a3\u4f60\u6709\u591a\u5c11\u5c81\u4e86\uff1f - \u7528\u4e2d\u6587\u56de\u7b54. \u52a9\u624b\uff1a\u6211\u6ca1\u6709\u5177\u4f53\u7684\u5e74\u9f84\uff0c\u56e0\u4e3a\u6211\u662f\u4e00\u4e2a\u8ba1\u7b97\u673a\u7a0b\u5e8f\u3002\u60a8\u6709\u4ec0\u4e48\u5176\u4ed6\u95ee\u9898\u6216\u9700\u8981\u7684\u5e2e\u52a9\u5417\uff1f\\n\\n\uc801\uc6a9 \ud6c4:\\n\ud55c\uad6d\uc5b4\ub85c \ub300\ub2f5\ud558\uaca0\uc2b5\ub2c8\ub2e4. \uc911\uad6d\uc5b4\uc5d0\ub294 \uc5ec\ub7ec \ubc29\uc5b8\uacfc \uc5b8\uc5b4\uac00 \uc788\uc73c\ubbc0\ub85c, \ubaa8\ub4e0 \uc911\uad6d\uc5b4\ub97c \ub2e4 \uc544\ub294 \uac83\uc740 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. \uadf8\ub7ec\ub098 \uc77c\ubc18\uc801\uc778 \uc911\uad6d \ud45c\uc900\uc5b4(\uac04\uc8fc)\uc640 \uc77c\ubd80 \uc9c0\uc5ed \ubc29\uc5b8\uc744 \ud3ec\ud568\ud558\uc5ec, \uae30\ubcf8\uc801\uc778 \uc911\uad6d\uc5b4 \ud45c\ud604\uacfc \ubb38\ubc95\uc744 \uc81c\uacf5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c, \uc911\uad6d\uc5b4\uc5d0 \ub300\ud55c \uae30\ubcf8\uc801\uc778 \uc9c0\uc2dd\uacfc \uc6a9\uc5b4\ub97c \uacf5\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uad81\uae08\ud558\uc2e0 \ubd80\ubd84\uc774 \uc788\uc73c\uc2dc\ub2e4\uba74 \ubb3c\uc5b4\ubcf4\uc138\uc694! \ub354 \uad6c\uccb4\uc801\uc73c\ub85c \uc5b4\ub5a4 \uc8fc\uc81c\uc5d0 \ub300\ud574 \uc54c\uace0 \uc2f6\uc73c\uc2e0\uc9c0 \uc54c\ub824\uc8fc\uc2dc\uba74, \ub354\uc6b1 \uc790\uc138\ud788 \uc124\uba85 \ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.\\n\\n\uc2e0\uae30\ud558\uac8c\ub3c4, LLM \ubaa8\ub378\uc774 \uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud55c \ud655\ub960\uc774 0\uc5d0 \uc218\ub834\ud558\uc5ec \uc0dd\uc131\ud560 \uc218 \uc5c6\uc5c8\uae30\uc5d0, \ud55c\uad6d\uc5b4\ub85c \ub300\ub2f5\ud558\uaca0\ub2e4\uace0 \ub2f5\ubcc0\ud558\ub294 \uacb0\uacfc\ub97c \uc5bb\uc5c8\uc2b5\ub2c8\ub2e4.\\n\\n\\n4.\uacb0\ub860\\n- \ubaa8\ub378\uc774 \ucd94\ub860\ud560 \ub54c\uc5d0 \uc120\ud0dd\ud560 \uc218 \uc788\ub294 \ud1a0\ud070 \ubc94\uc704\ub97c \uc784\uc758\ub85c \uc870\uc815\ud558\uc5ec \uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud55c \ud655\ub960\uc744 0\uc5d0 \uc218\ub834\ud558\ub3c4\ub85d \uc218\uc815\\n- \uac04\ub2e8\ud55c \ucc98\ub9ac\ub85c \uc911\uad6d\uc5b4 \ud1a0\ud070\uc744 \ucd9c\ub825\ud558\uc9c0 \uc54a\ub294 \uc989\uac01\uc801\uc778 \uacb0\uacfc\ub97c \ud655\uc778\\n- \uc911\uad6d\uc5b4 \uc678\uc5d0\ub3c4 \ub2e4\ub978 \uc678\uad6d\uc5b4\ub3c4 \ud1a0\ud070 \ubc94\uc704\ub9cc \uc548\ub2e4\uba74 \uc81c\uc678\ud560 \uc218 \uc788\uc74c\\n\\n+ 5. \ucd94\uac00 \uc131\ub2a5 \uad00\ub828 \ub9ac\ud3ec\ud2b8\\nLogitProcessor \ucc98\ub9ac \uad00\ub828 \ub85c\uc9c1\uc740, LLM \ubaa8\ub378\uc758 \ucd5c\ucd08 generate\uc5d0\uc11c \uccab \ubc88\uc9f8 \ud1a0\ud070 \uc0dd\uc131 \uc2dc \ud55c\ubc88 \ucc98\ub9ac\ud558\uac8c \ub429\ub2c8\ub2e4.\\n\uad00\ub828\ud558\uc5ec \uae30\uc874 \uccab \ubc88\uc9f8 \ud1a0\ud070 \uc0dd\uc131 \uc2dc\uac04\uc778 TTFT\uac00 \uc5bc\ub9c8\ub098 \ub290\ub824\uc9c0\ub294\uac00\uc5d0 \ub300\ud574 \ub9ac\ud3ec\ud2b8\ub97c \ub0a8\uaca8\ub193\uc2b5\ub2c8\ub2e4.\\n\\nQwen2.5-7B-Instruct \ubaa8\ub378 \uae30\uc900\\n\\n\ubaa8\ub378\uc758 \uccab\ubc88\uc9f8 generate \uc2dc,\\n- TTFT: 1534.34ms, TPS: 39.77 tokens/sec\\n\\n\uadf8 \uc774\ud6c4,\\n- TTFT: 101.48ms, TPS: 39.72 tokens/sec\\n\\n\ub9ac\ud3ec\ud2b8 \ub300\ub85c \uccab\ubc88\uc9f8 generate\uc5d0\uc11c \uccab \ud1a0\ud070 \uc0dd\uc131 \uc2dc \uc0dd\uc131 \uc18d\ub3c4\uac00 \ub9ce\uc774 \ub290\ub824\uc9c0\ub294 \uac83\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\ub530\ub77c\uc11c \uc0ac\uc6a9 \uc2dc warm up \uacfc\uc815\uc774 \ud55c\ubc88 \ud544\uc694\ud568\uc744 \uacf5\uc720\ub4dc\ub9bd\ub2c8\ub2e4.\\n\\n\ud1a0\ud070 \ubc94\uc704 \uc81c\ud55c\uc5d0 \ub530\ub978 \uc131\ub2a5\uc800\ud558\ub294 \uc544\uc9c1 \uccb4\uac10\ud558\uc9c0 \ubabb\ud588\uc73c\uba70 \uad00\ub828 \uc774\uc288 \ubc1c\uc0dd \uc2dc \ucd94\ud6c4 \ucf54\uba58\ud2b8\ub97c \ub2ec\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."},{"id":"/2024/07/22/","metadata":{"permalink":"/blog/2024/07/22/","editUrl":"https://github.com/logicbaron/logicbaron.github.io/tree/dev/blog/2024-07-22.md","source":"@site/blog/2024-07-22.md","title":"DuckDB","description":"\uba38\uc2e0 \ub7ec\ub2dd \ud559\uc2b5\uc744 \uc704\ud574 \ub300\uaddc\ubaa8 \ub370\uc774\ud130\ub97c \ub85c\ub529\ud558\uac70\ub098, \ub370\ubaa8 \ud398\uc774\uc9c0\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uc5f0\ub3d9\ud574\uc57c\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub300\ubd80\ubd84\uc758 \uacbd\uc6b0 \ub370\uc774\ud130\ud30c\uc77c \uc790\uccb4\ub97c \uc77d\uc5b4\uc640\ub3c4 \uc88b\uc9c0\ub9cc \ub370\uc774\ud130\uac00 \uba54\ubaa8\ub9ac\uc5d0 \uc62c\ub9ac\uae30\uc5d0 \ubd80\uc871\ud558\uac70\ub098 \uc6f9 \ub370\ubaa8\uc640 \uac19\uc774 \ub370\uc774\ud130 \ub85c\ub4dc\uac00 \uc790\uc8fc \ud544\uc694\ud55c \uacbd\uc6b0\uc5d0\ub294 DB \ud65c\uc6a9\uc744 \uace0\ub824\ud558\uac8c \ub429\ub2c8\ub2e4. \uc2e4\uc81c\ub85c \uc774 \ube14\ub85c\uadf8 \uccab \uae00\uc778 \uc6f9 \ub370\uc774\ud130 \ubdf0\uc5b4 \ub9cc\ub4e4\uae30\uac00 \uadf8\ub7f0 \ub0b4\uc6a9\uc785\ub2c8\ub2e4.","date":"2024-07-22T00:00:00.000Z","tags":[],"readingTime":2.01,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"Qwen \uc5d0\uc11c \uc911\uad6d\uc5b4 \uc5c6\uc560\uae30.","permalink":"/blog/2025/03/17/"},"nextItem":{"title":"LLM finetuning","permalink":"/blog/2024/04/04/"}},"content":"\uba38\uc2e0 \ub7ec\ub2dd \ud559\uc2b5\uc744 \uc704\ud574 \ub300\uaddc\ubaa8 \ub370\uc774\ud130\ub97c \ub85c\ub529\ud558\uac70\ub098, \ub370\ubaa8 \ud398\uc774\uc9c0\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uc5f0\ub3d9\ud574\uc57c\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub300\ubd80\ubd84\uc758 \uacbd\uc6b0 \ub370\uc774\ud130\ud30c\uc77c \uc790\uccb4\ub97c \uc77d\uc5b4\uc640\ub3c4 \uc88b\uc9c0\ub9cc \ub370\uc774\ud130\uac00 \uba54\ubaa8\ub9ac\uc5d0 \uc62c\ub9ac\uae30\uc5d0 \ubd80\uc871\ud558\uac70\ub098 \uc6f9 \ub370\ubaa8\uc640 \uac19\uc774 \ub370\uc774\ud130 \ub85c\ub4dc\uac00 \uc790\uc8fc \ud544\uc694\ud55c \uacbd\uc6b0\uc5d0\ub294 DB \ud65c\uc6a9\uc744 \uace0\ub824\ud558\uac8c \ub429\ub2c8\ub2e4. \uc2e4\uc81c\ub85c \uc774 \ube14\ub85c\uadf8 \uccab \uae00\uc778 [\uc6f9 \ub370\uc774\ud130 \ubdf0\uc5b4 \ub9cc\ub4e4\uae30](/blog/2023-11-07.md)\uac00 \uadf8\ub7f0 \ub0b4\uc6a9\uc785\ub2c8\ub2e4.\\n\\n\ub2e4\ub9cc DB\ub97c \ub744\uc6cc\uc11c \ud65c\uc6a9\ud558\ub294 \ubc29\uc2dd\uc740 \ubc88\uac70\ub86d\ub2e4\ub294 \ub2e8\uc810\uc774 \uc788\uc2b5\ub2c8\ub2e4. **DuckDB**\ub294 \uc774\ub7f0 \ub2e8\uc810\uc744 \ud574\uc18c\ud574\uc8fc\ub294 \ub85c\uceec\uc5d0\uc11c \ubcc4\ub2e4\ub978 \uc124\uce58 \uc5c6\uc774 \ubc14\ub85c DB\ucc98\ub7fc \ud65c\uc6a9 \uac00\ub2a5\ud558\uace0 sql\ub3c4 \ub0a0\ub9b4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n### Installation\\n\\nDuckDB\uc758 [installation \ud398\uc774\uc9c0](https://duckdb.org/docs/installation/?version=stable&environment=cli&platform=macos&download_method=package_manager) \ub97c \ucc38\uc870\ud574\uc11c duckdb \ub97c \uc124\uce58\ud569\ub2c8\ub2e4.\\n\\n### Python API\\n\\n\uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 duckdb\ub97c \ud30c\uc774\uc36c\uc5d0\uc11c \uc9c1\uc811 \ud638\ucd9c\ud574 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n```sh\\npip install duckdb \\n```\\n\\n### parquet \ud65c\uc6a9 \uc608\uc2dc\\n\\nparquet \ud30c\uc77c\uc5d0\uc11c random row\ub97c \uac00\uc838\uc624\ub294 \uc608\uc2dc \ucf54\ub4dc\uc785\ub2c8\ub2e4. random row \ub97c \ud638\ucd9c\ud558\ub294 \uc608\uc2dc\uc785\ub2c8\ub2e4. \\n\\n(random row\ub97c \ud638\ucd9c\ud558\ub294 \ucffc\ub9ac\ub294 \ub9e4\uc6b0 \ub290\ub9bd\ub2c8\ub2e4. select ~ where \uc815\ub3c4\uc758 \ucffc\ub9ac\ub294 \ud6e8\uc52c \ube60\ub974\uac8c \ub3d9\uc791\ud569\ub2c8\ub2e4.)\\n\\n```python\\nimport pandas as pd\\nimport duckdb\\n\\nconn = duckdb.connect()\\n\\nresult = conn.sql(f\\"select * from \'{parquet_file_path}\' offset floor(random() * {data_file_size}) LIMIT 1\\").df()\\n```\\n\\n\uc5ec\ub7ec parquet \ud30c\uc77c\uc744 \ud3ec\ud568\ud55c \ud3f4\ub354\ub294 \uc544\ub798\uc640 \uac19\uc774 \uc5f0\uacb0\ud558\uc5ec \uc0ac\uc6a9\uac00\ub2a5\ud569\ub2c8\ub2e4.\\n\\n```python\\nimport duckdb\\n\\nresult = conn.sql(f\\"select * from parquet_scan(\'{parquet_file_path}/*.parquet\') LIMIT 1\\").df()\\n```"},{"id":"/2024/04/04/","metadata":{"permalink":"/blog/2024/04/04/","editUrl":"https://github.com/logicbaron/logicbaron.github.io/tree/dev/blog/2024-04-04.md","source":"@site/blog/2024-04-04.md","title":"LLM finetuning","description":"LLM finetuning\uc744 \uacfc\uc81c\uc5d0\uc11c \uc9c4\ud589\ud574\uc57c \ud574\uc11c \uc218\ud589\ud574\ubd24\ub2e4. \ubb3c\ub860 \ud300\uc6d0\ubd84\ub4e4\uc774 \uc9dc\uc8fc\uc2e0 \ucf54\ub4dc\uac00 \uc788\uc5c8\uc9c0\ub9cc \uadf8\ub798\ub3c4 \uc0dd\uac01\ubcf4\ub2e4 \uc5c4\uccad \uc27d\uac8c \ub3cc\uc544\uac00\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub4e4\uc774 \uc798 \uc791\uc131\ub418\uc5b4 \uc788\ub2e4\ub294 \uc0ac\uc2e4\uc774 \uc2e0\uae30\ud588\ub2e4. \uc608\uc804\uc5d0 \uacf5\ubd80\ud558\uace0 \uc0ac\uc6a9\uc740 \uc548 \ud588\ub358 deepspeed\ub3c4 \ubcf8\uaca9\uc801\uc73c\ub85c \uc0ac\uc6a9\ub418\ub294 \ud604\uc0c1\ub3c4 \ubd24\ub2e4.","date":"2024-04-04T00:00:00.000Z","tags":[],"readingTime":1.295,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"DuckDB","permalink":"/blog/2024/07/22/"},"nextItem":{"title":"MatPlotlib \ud55c\uae00 \uc124\uc815 \uac04\ud3b8\ud558\uac8c \ud558\uae30","permalink":"/blog/2024/02/14/"}},"content":"LLM finetuning\uc744 \uacfc\uc81c\uc5d0\uc11c \uc9c4\ud589\ud574\uc57c \ud574\uc11c \uc218\ud589\ud574\ubd24\ub2e4. \ubb3c\ub860 \ud300\uc6d0\ubd84\ub4e4\uc774 \uc9dc\uc8fc\uc2e0 \ucf54\ub4dc\uac00 \uc788\uc5c8\uc9c0\ub9cc \uadf8\ub798\ub3c4 \uc0dd\uac01\ubcf4\ub2e4 \uc5c4\uccad \uc27d\uac8c \ub3cc\uc544\uac00\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub4e4\uc774 \uc798 \uc791\uc131\ub418\uc5b4 \uc788\ub2e4\ub294 \uc0ac\uc2e4\uc774 \uc2e0\uae30\ud588\ub2e4. \uc608\uc804\uc5d0 \uacf5\ubd80\ud558\uace0 \uc0ac\uc6a9\uc740 \uc548 \ud588\ub358 deepspeed\ub3c4 \ubcf8\uaca9\uc801\uc73c\ub85c \uc0ac\uc6a9\ub418\ub294 \ud604\uc0c1\ub3c4 \ubd24\ub2e4.\\n\\nLORA, peft, deepspeed, SFT \ub4f1\uc758 \uae30\uc220\uc744 \uc0ac\uc6a9\ud588\ub294\ub370 \uae09\ud558\uac8c \uc9c4\ud589\ud55c\ub2e4\uace0 \uae30\uc220 \ub0b4\uc6a9\uae4c\uc9c0\ub294 \uc0c1\uc138\ud788 \ubabb\ubd24\ub2e4. \ub610 LLM \ub17c\ubb38\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 metrics\ub3c4 \uc774\ud574\uac00 \uc798 \uc548\ub410\uace0, \ub9c8\uce58 \ucc98\uc74c DeepLearning\uc744 \uacf5\ubd80\ud558\ub358 \uc2dc\uc808\ub85c \ub3cc\uc544\uac04 \uac83 \uac19\uc558\ub2e4. \uc544\uc9c1 Deep learning \ubd84\uc57c\uc5d0\uc11c\ub3c4 \uacf5\ubd80\ud574\uc57c\ud560 \uac83\ub4e4\uc774 \ub9ce\uc740\ub370 LLM \ucabd \uae30\uc220 \uacf5\ubd80\ub97c \ub530\ub77c\uc7a1\uc544\uc57c\ud55c\ub2e4\ub294 \uc0dd\uac01\uc774 \uac15\ud558\uac8c \ub4e4\uc5c8\ub2e4. \\n\\nGPT technical Report \uac00 \uc815\uc11d\uac19\uc740 \ucc45\uc774\uc9c0\ub9cc [HCX Technical Reprot](https://arxiv.org/pdf/2404.01954.pdf) \uba3c\uc800 \ucb49 \uc77d\uc73c\uba70 \uacf5\ubd80\ub97c \uc8fc\ub9d0\ubd80\ud130 \ubcf8\uaca9\uc801\uc73c\ub85c \uc2dc\uc791\ud574\ubcf4\ub824 \ud55c\ub2e4."},{"id":"/2024/02/14/","metadata":{"permalink":"/blog/2024/02/14/","editUrl":"https://github.com/logicbaron/logicbaron.github.io/tree/dev/blog/2024-02-14.md","source":"@site/blog/2024-02-14.md","title":"MatPlotlib \ud55c\uae00 \uc124\uc815 \uac04\ud3b8\ud558\uac8c \ud558\uae30","description":"matplotlib \ud55c\uae00 \uc124\uc815\ud558\ub294 \uac8c \uc0dd\uac01\ubcf4\ub2e4 \uc5b8\uc81c\ub098 \uae4c\ub2e4\ub86d\uace0 \uc138\ud305\ud558\uae30 \uadc0\ucc2e\uc544\uc11c \uc601\uc5b4\ub85c \uc804\ubd80 \ucc98\ub9ac\ud574\uc654\ub294\ub370, \uc774 \uacfc\uc815\uc744 \ud3b8\ud558\uac8c \ud574\uc8fc\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc788\ub2e4.","date":"2024-02-14T00:00:00.000Z","tags":[],"readingTime":0.585,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"LLM finetuning","permalink":"/blog/2024/04/04/"},"nextItem":{"title":"tmux \uc218\ub3d9 \uc124\uce58","permalink":"/blog/2023/11/09/"}},"content":"import blog_2024021401 from \'./asset/blog_2024021401.png\';\\n\\n\\nmatplotlib \ud55c\uae00 \uc124\uc815\ud558\ub294 \uac8c \uc0dd\uac01\ubcf4\ub2e4 \uc5b8\uc81c\ub098 \uae4c\ub2e4\ub86d\uace0 \uc138\ud305\ud558\uae30 \uadc0\ucc2e\uc544\uc11c \uc601\uc5b4\ub85c \uc804\ubd80 \ucc98\ub9ac\ud574\uc654\ub294\ub370, \uc774 \uacfc\uc815\uc744 \ud3b8\ud558\uac8c \ud574\uc8fc\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc788\ub2e4.\\n\\n## koreanize_matplotlib\\n\\n```python\\nimport matplotlib.pyplot as plt\\nimport koreanize_matplotlib\\n\\nplt.plot([-1, 0, 1, 2])\\nplt.title(\'\uadf8\ub798\ud504 \uc81c\ubaa9\', fontweight=\\"bold\\")\\nplt.xlabel(\'\uac04\ub2e8\ud55c \uadf8\ub798\ud504\')\\nplt.show()\\n```\\n\\n<div style={{textAlign: \'center\'}}>\\n <img src={blog_2024021401} style={{width: 500}} />\\n</div>\\n\\n\\n\ubc14\ub85c \ud55c\uae00\ub85c \ub41c \ud14d\uc2a4\ud2b8\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ucd9c\ub825\uc774 \ub41c\ub2e4!"},{"id":"/2023/11/09/","metadata":{"permalink":"/blog/2023/11/09/","editUrl":"https://github.com/logicbaron/logicbaron.github.io/tree/dev/blog/2023-11-09.md","source":"@site/blog/2023-11-09.md","title":"tmux \uc218\ub3d9 \uc124\uce58","description":"tmux \uc124\uce58\ub97c sudo \uad8c\ud55c\uc774 \ud544\uc694\ud55c \ud328\ud0a4\uc9c0 \ub9e4\ub2c8\uc800\ub97c \uac70\uce58\uc9c0 \uc54a\uace0 \ubc14\ub85c \ud558\uae30 \uc704\ud574\uc11c \uc218\ub3d9 \uc124\uce58\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubd24\ub2e4.","date":"2023-11-09T00:00:00.000Z","tags":[],"readingTime":1.14,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"MatPlotlib \ud55c\uae00 \uc124\uc815 \uac04\ud3b8\ud558\uac8c \ud558\uae30","permalink":"/blog/2024/02/14/"},"nextItem":{"title":"\uc6f9\ub370\uc774\ud130 \ubdf0\uc5b4 \ub9cc\ub4e4\uae30 (feat. postgres)","permalink":"/blog/2023/11/07/"}},"content":"tmux \uc124\uce58\ub97c sudo \uad8c\ud55c\uc774 \ud544\uc694\ud55c \ud328\ud0a4\uc9c0 \ub9e4\ub2c8\uc800\ub97c \uac70\uce58\uc9c0 \uc54a\uace0 \ubc14\ub85c \ud558\uae30 \uc704\ud574\uc11c \uc218\ub3d9 \uc124\uce58\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubd24\ub2e4.\\n\\n## Libevent \ube4c\ub4dc\\n\\nhttps://libevent.org/ \uc0ac\uc774\ud2b8\uc5d0\uc11c libevent \uc555\ucd95 \ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc.\\n\\n```bash\\n$ tar -xvzf libevent-2.0.17-stable.tar.gz\\n$ cd libevent-2.0.17-stable\\n$ ./configure --prefix=$HOME/tmux/\\n$ make\\n$ make install\\n```\\n\\n## ncurses \ube4c\ub4dc\\n\\n[ncurses](https://invisible-island.net/ncurses/announce.html) \ub2e4\uc6b4\ub85c\ub4dc \ud398\uc774\uc9c0 \uc5d0\uc11c stable \ub2e4\uc6b4\ub85c\ub4dc.\\n- \ub2e4\uc6b4\ub85c\ub4dc \ud398\uc774\uc9c0 : https://ftp.gnu.org/pub/gnu/ncurses/\\n\\n```bash\\n$ tar -xvzf ncurses-5.9.tar.gz\\n$ cd ncurses-5.9/\\n$ ./configure --prefix=$HOME/tmux/\\n$ make\\n$ make install\\n```\\n\\n$HOME/tmux/include/ncurses \uc544\ub798\uc5d0 \ube4c\ub4dc\uac00 \uc774\ub8e8\uc5b4\uc9c0\ubbc0\ub85c, $HOME/tmux/include \uacbd\ub85c\ub85c \uc62e\uaca8\uc918\uc57c \ud55c\ub2e4.\\n\\n```bash\\n$ cp $HOME/tmux/include/ncurses/* $HOME/tmux/include/\\n```\\n\\n## tmux \ube4c\ub4dc\\n\\nhttps://github.com/tmux/tmux/releases \uc5d0\uc11c tmux \ucd5c\uc2e0 \ubc84\uc804 \ub2e4\uc6b4\ub85c\ub4dc.\\n\\n```bash \\n$ tar -xvzf tmux-1.6.tar.gz\\n$ cd tmux-1.6\\n$ ./configure \\\\\\n    CFLAGS=\\"-I$HOME/tmux/include\\" \\\\\\n    LDFLAGS=\\"-L$HOME/tmux/lib\\" \\\\\\n    --prefix=$HOME/tmux/\\n$ make\\n$ make install\\n```\\n\\n\ub9c8\uc9c0\ub9c9\uc73c\ub85c LD_LIBRARY_PATH \ud658\uacbd \ubcc0\uc218\ub97c \uc124\uc815\ud574\uc8fc\uba74 \ub05d\ub09c\ub2e4. ~/.bashrc \uc640 \uac19\uc740 \ud30c\uc77c\uc5d0\uc11c \ub2e4\uc74c \ud589\uc744 \ucd94\uac00\ud55c\ub2e4.\\n\\n```sh title=\\"~/.bashrc\\"\\nexport LD_LIBRARY_PATH=$HOME/tmux/lib\\n```"},{"id":"/2023/11/07/","metadata":{"permalink":"/blog/2023/11/07/","editUrl":"https://github.com/logicbaron/logicbaron.github.io/tree/dev/blog/2023-11-07.md","source":"@site/blog/2023-11-07.md","title":"\uc6f9\ub370\uc774\ud130 \ubdf0\uc5b4 \ub9cc\ub4e4\uae30 (feat. postgres)","description":"\uc11c\ubc84\uc5d0\uc11c postgres DB \ub97c \ub744\uc6b0\uace0, streamlit \uc5d0\uc11c table \uc744 \uc77d\uc5b4\uc11c \uc774\ubbf8\uc9c0\ub97c \ub744\uc6b8 \uc218 \uc788\ub294 \ucf54\ub4dc\ub97c \uc791\uc131\ud588\uc74c.","date":"2023-11-07T00:00:00.000Z","tags":[],"readingTime":2.455,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"tmux \uc218\ub3d9 \uc124\uce58","permalink":"/blog/2023/11/09/"}},"content":"\uc11c\ubc84\uc5d0\uc11c postgres DB \ub97c \ub744\uc6b0\uace0, streamlit \uc5d0\uc11c table \uc744 \uc77d\uc5b4\uc11c \uc774\ubbf8\uc9c0\ub97c \ub744\uc6b8 \uc218 \uc788\ub294 \ucf54\ub4dc\ub97c \uc791\uc131\ud588\uc74c.\\n\\n## postgres \uc11c\ubc84 \ub744\uc6b0\uae30\\n\\n postgres docker \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud588\ub2e4. \uc778\uc99d \uad00\ub828\ud574\uc11c \ubb38\uc81c\uac00 \uc788\uc5b4\uc11c \uaf64 \uad6c\ubc84\uc804\uc744 \uc0ac\uc6a9\ud588\uc74c.\\n\\n https://hub.docker.com/_/postgres \uc5d0\uc11c postgres docker image \ub97c \ub2e4\uc6b4\ub85c\ub4dc \ud55c\ub2e4.\\n\\n \ucd5c\uc2e0\ubc84\uc804 \uc0ac\uc6a9\ud558\uba74 client server \uc640 \uc778\uc99d \uc624\ub958\uac00 \uc788\uc5b4\uc11c 12-alphine tag \uc0ac\uc6a9\ud588\ub2e4. postgres db \uc758 \uae30\ubcf8 \ud3ec\ud2b8\uc778 5432\ubc88 \uc0ac\uc6a9\ud55c\ub2e4.\\n\\n ```sh\\n $ docker pull postgres:12-alphine\\n $ docker run -d -p 5432:5432 --name postgres -e POSTGRES_USER=${USER_NAME} -e POSTGRES_PASSWORD=${PASSWROD} -i postgres:12-alphine\\n ```\\n\\n ## postgres \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc124\uc815\\n \\n \ucee8\ud14c\uc774\ub108 \uc9c4\uc785\ud574\uc11c pg \ub0b4\ubd80\uc5d0 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc640 \ud14c\uc774\ube14\uc744 \uc0dd\uc131\ud574\uc57c \ud55c\ub2e4.\\n \uba3c\uc800 postgres docker \uc5d0 bash \uc258\ub85c \uc9c4\uc785\ud55c\ub2e4.\\n\\n ```sh\\n $ docker exec -it postgres /bin/bash\\n ```\\n\\n ```sh\\n $ psql -U ${USER_NAME}\\n $ (psql) create database mydb;\\n ```\\n\\n ## python pandas \ub97c \uc774\uc6a9\ud55c table \uc0dd\uc131\\n\\n sqlalchemy \uc640 pandas \ub97c \uc774\uc6a9\ud574\uc11c dataframe \uc744 pg db \uc5d0 \uc5c5\ub85c\ub4dc \ud558\uae30.\\n\\n ```python title=\\"upload_df_to_pg.py\\"\\n import sqlalchemy\\n import pandas as pd\\n \\n MY_DB = \\"postgresql://{USER_NAME}:{PASSWORD}@127.0.0.1:5432/mydb\\"\\n engine = sqlalchemy.create_engine(MY_DB)\\n conn = engine.connect()\\n\\n df = pd.read_parquet(\\"./path/to/parquet.parquet\\")\\n df.to_sql(\\"mytable\\", engine, if_exists=\'replace\', index=False)\\n ```\\n\\n ## \uc5c5\ub85c\ub4dc \ub41c \ud14c\uc774\ube14 \ud655\uc778\ud558\uae30\\n\\n \ub2e4\uc2dc \ub3c4\ucee4\uc5d0 \uc9c4\uc785\ud574\uc11c \uc9c4\ud589\ud55c\ub2e4.\\n\\n  ```sh\\n $ docker exec -it postgres /bin/bash\\n ```\\n\\n- \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc811\uc18d : `\\\\c`\\n- \ud14c\uc774\ube14 \uc870\ud68c \uba85\ub839 : `\\\\dt`\\n- \uc0ac\uc6a9\uc790 \uc870\ud68c : `\\\\du`\\n\\n ```sh\\n $ psql -U ${USER_NAME}\\n $ (psql) \\\\c mydb;\\n $ (psql) \\\\dt;\\n ```\\n\\n## streamlit \uc774\uc6a9\ud55c \uc6f9\ub370\uc774\ud130 \ubdf0\uc5b4 \ub9cc\ub4e4\uae30\\n\\nlarge dataframe \uc758 \uacbd\uc6b0 streamlit \uc5d0 \uc9c1\uc811 \uc62c\ub824\uc11c \uc0ac\uc6a9\ud558\uba74 \uc18d\ub3c4\uac00 \ub108\ubb34 \ub290\ub824\uc9c4\ub2e4. \uadf8\ub798\uc11c \ub370\uc774\ud130\ud504\ub808\uc784\uc744 postgres \uc5d0 \uc62c\ub824\ub450\uace0 sql \uc744 \uc774\uc6a9\ud574\uc11c \ub370\uc774\ud130\ub97c \uc77d\uc5b4\uc635\ub2c8\ub2e4.\\n\\n```python title=\\"my_viewer.py\\"\\nimport streamlit as st\\nimport sqlalchemy\\nfrom PIL import Image\\nimport numpy as np\\n\\n@st.cache_data\\ndef get_all_id(db, table):\\n    engine = sqlalchemy.create_engine(db)\\n    sql_select = f\\"select id from {table}\\"\\n    all_id = pd.read_sql(sql_select, engine)\\n    return all_id.tolist()\\n\\ndef get_random_id(db, table):\\n    list_all_id = get_all_id(db, table)\\n    return np.random.choice(list_all_id)\\n\\ndef get_image(db, table, id):\\n    engine = sqlalchemy.create_engine(db)\\n    sql_select = f\\"select img_path from {table} where id={id}\\"\\n    img_path = pd.read_sql(sql_select, engine).at[0, \'img_path\']\\n    return Image.open(img_path)\\n\\nst.title(\\"\uc774\ubbf8\uc9c0 \uc6f9\ubdf0\uc5b4 \ub370\ubaa8\\")\\nrandom_id = get_random_id(db, table)\\nst.image(get_image(db, table, random_id))\\n```"}]}}')}}]);