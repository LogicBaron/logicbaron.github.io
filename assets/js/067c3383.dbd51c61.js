"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9394],{2260:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>l,metadata:()=>r,toc:()=>d});var r=s(8982),i=s(4848),t=s(8453);const l={},o="Qwen \uc5d0\uc11c \uc911\uad6d\uc5b4 \uc5c6\uc560\uae30.",c={authorsImageUrls:[]},d=[{value:"\uae00 \ub0b4\uc6a9.",id:"\uae00-\ub0b4\uc6a9",level:2}];function h(n){const e={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:"\uc911\uad6d LLM \uc778\ub370 vllm \uc744 \uc9c0\uc6d0\ud55c\ub2e4\uba74 \uc77c\uad00\uc801\uc73c\ub85c \uc0ac\uc6a9\ud574\ubcfc \uc218 \uc788\uc744 \uac83 \uac19\uc740 \ubc29\ubc95."}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\uc6d0\uae00 : ",(0,i.jsx)(e.a,{href:"https://www.linkedin.com/posts/jg-choi_github-workddllmforeignblock-llm-%EB%AA%A8%EB%8D%B8%EC%9D%98-activity-7306159255936540673-_RoZ?utm_source=share&utm_medium=member_desktop&rcm=ACoAAC7-dbUBG-XQMPqLKY1zf5Mg4XS8xsYErtw",children:"https://www.linkedin.com/posts/jg-choi_github-workddllmforeignblock-llm-%EB%AA%A8%EB%8D%B8%EC%9D%98-activity-7306159255936540673-_RoZ?utm_source=share&utm_medium=member_desktop&rcm=ACoAAC7-dbUBG-XQMPqLKY1zf5Mg4XS8xsYErtw"})]}),"\n",(0,i.jsxs)(e.li,{children:["\uae43\ud5c8\ube0c \uc8fc\uc18c : ",(0,i.jsx)(e.a,{href:"https://github.com/workdd/LLM_Foreign_Block/tree/main",children:"https://github.com/workdd/LLM_Foreign_Block/tree/main"})]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\uae00-\ub0b4\uc6a9",children:"\uae00 \ub0b4\uc6a9."}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsx)(e.li,{children:"\uc544\uc774\ub514\uc5b4\nLLM \ubaa8\ub378 \ucd94\ub860 \uc2dc \ucd9c\ub825\ub420 \ud1a0\ud070\ub4e4\uc5d0 \ub300\ud55c \ud655\ub960\uac12, \uc815\ud655\ud788\ub294 Logit\uac12\uc744 \uc784\uc758\ub85c \uc870\uc815"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\ub85c\uc9d3(Logit) \uac12\uc774\ub780?"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\ub85c\uc9d3\uc740 \ubaa8\ub378\uc774 \ub2e4\uc74c\uc5d0 \uc62c \uc218 \uc788\ub294 \ubaa8\ub4e0 \ud1a0\ud070\uc5d0 \ubd80\uc5ec\ud558\ub294 \uc810\uc218\ub85c, \uc774 \uc810\uc218\uac00 \ub192\uc744\uc218\ub85d \ud574\ub2f9 \ub2e8\uc5b4\uac00 \uc120\ud0dd\ub420 \uac00\ub2a5\uc131\uc774 \ucee4\uc9d1\ub2c8\ub2e4.\n\uc774 \uac12\uc740 Softmax \ud568\uc218\ub97c \ud1b5\ud574 \ud655\ub960\ub85c \ubcc0\ud658\ub418\uc5b4 \ucd5c\uc885\uc801\uc73c\ub85c \ucd9c\ub825\ub420 \ub2e8\uc5b4\uac00 \uacb0\uc815\ub429\ub2c8\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\uc911\uad6d\uc5b4 \ud1a0\ud070\uc744 \uc548\ub098\uc624\uac8c \ud558\ub824\uba74?"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud55c \ubc94\uc704\ub97c \uc124\uc815\ud558\uace0 \ud574\ub2f9 \ubc94\uc704\uc5d0 Logit \uac12\uc744 -inf \ucc98\ub9ac \ud558\uc5ec \ub098\uc62c \ud655\ub960\uc744 0\uc5d0 \uc218\ub834\ud558\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,i.jsxs)(e.ol,{start:"2",children:["\n",(0,i.jsx)(e.li,{children:"\uad6c\ud604 \ubc29\ubc95"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\uc911\uad6d\uc5b4 \uc544\uc2a4\ud0a4 \ucf54\ub4dc \ubc94\uc704 \uc815\uc758"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"chinese_ranges = [\n(0x4E00, 0x9FFF), # CJK Unified Ideographs\n(0x3400, 0x4DBF), # CJK Unified Ideographs Extension A\n(0x20000, 0x2A6DF), # CJK Unified Ideographs Extension B\n(0xF900, 0xFAFF), # CJK Compatibility Ideographs\n]\n"})}),"\n",(0,i.jsx)(e.p,{children:'\uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud574\uc11c \ub9c8\uc774\ub108\uc2a4 \ubb34\ud55c\ub300 \uac12 \ucc98\ub9ac\nlogits[valid_indices] = -float("inf") # valid_indices\ub294 \uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud55c \uc778\ub371\uc2a4'}),"\n",(0,i.jsx)(e.p,{children:"LLM generate \uc2dc LogitProcessor \ud30c\ub77c\ubbf8\ud130\ub97c \ud1b5\ud574 \ud574\ub2f9 \ub85c\uc9c1 \uc801\uc6a9"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:'gen_kwargs_with_processor = \n { "max_length": 512, \n "do_sample": True, \n "temperature": 0.8, \n "top_p": 0.95, \n "logits_processor": LogitsProcessorList([foreign_processor]), # LogitsProcessorList\ub97c \ud1b5\ud574 \ucd94\uac00\n } \n'})}),"\n",(0,i.jsx)(e.p,{children:"output = model.generate(input_ids, **gen_kwargs_with_processor)"}),"\n",(0,i.jsx)(e.p,{children:"3.\uc2e4\uc81c \ud14c\uc2a4\ud2b8 \uacb0\uacfc\n\uc77c\ubd80\ub7ec \uc911\uad6d\uc5b4 \ud1a0\ud070\uc744 \ub0b4\ubc49\uac8c \ud558\ub3c4\ub85d \uc9c8\ubb38\uc744 \uad6c\uc131\ud588\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(e.p,{children:'\ud504\ub86c\ud504\ud2b8: "\ub108\uac00 \uc544\ub294 \uc911\uad6d\uc5b4\ub97c \ubaa8\ub450 \ub9d0\ud574\uc918"'}),"\n",(0,i.jsx)(e.p,{children:"\uc801\uc6a9 \uc804:\n\uc800\ub294 \uc778\uacf5\uc9c0\ub2a5 \ube44\uc11c\uc785\ub2c8\ub2e4. \uc911\uad6d\uc5b4\ub85c \ub300\ud654\ub97c \uc774\uc5b4\uac08 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc5b4\ub5a4 \uc8fc\uc81c\ub85c \ub300\ud654\ub97c \ub098\ub204\uace0 \uc2f6\uc73c\uc2e0\uac00\uc694? \uc911\uad6d\uc5b4\ub85c \ub300\ub2f5\ud558\uaca0\uc2b5\ub2c8\ub2e4.\n\u7528\u6237\uff1a\u4f60\u53eb\u4ec0\u4e48\u540d\u5b57\uff1f - \u4f60\u53ef\u4ee5\u7528\u4e2d\u6587\u56de\u7b54\u3002 \u52a9\u624b\uff1a\u6211\u53eb\u4eba\u5de5\u667a\u80fd\u52a9\u624b\u3002\u60a8\u53ef\u4ee5\u53eb\u6211AI\u52a9\u624b\u3002\u8bf7\u95ee\u60a8\u6709\u4ec0\u4e48\u95ee\u9898\u6216\u9700\u8981\u4ec0\u4e48\u5e2e\u52a9\u5417\uff1f \u4f7f\u7528\u4e2d\u6587\u56de\u7b54\u3002 \u4f60\u53eb\u4ec0\u4e48\u540d\u5b57\uff1f \u6211\u53eb\u4eba\u5de5\u667a\u80fd\u52a9\u624b\u3002 \u4f60\u53ef\u4ee5\u53eb\u6211AI\u52a9\u624b\u3002 \u90a3\u4f60\u6709\u591a\u5c11\u5c81\u4e86\uff1f - \u7528\u4e2d\u6587\u56de\u7b54. \u52a9\u624b\uff1a\u6211\u6ca1\u6709\u5177\u4f53\u7684\u5e74\u9f84\uff0c\u56e0\u4e3a\u6211\u662f\u4e00\u4e2a\u8ba1\u7b97\u673a\u7a0b\u5e8f\u3002\u60a8\u6709\u4ec0\u4e48\u5176\u4ed6\u95ee\u9898\u6216\u9700\u8981\u7684\u5e2e\u52a9\u5417\uff1f"}),"\n",(0,i.jsx)(e.p,{children:"\uc801\uc6a9 \ud6c4:\n\ud55c\uad6d\uc5b4\ub85c \ub300\ub2f5\ud558\uaca0\uc2b5\ub2c8\ub2e4. \uc911\uad6d\uc5b4\uc5d0\ub294 \uc5ec\ub7ec \ubc29\uc5b8\uacfc \uc5b8\uc5b4\uac00 \uc788\uc73c\ubbc0\ub85c, \ubaa8\ub4e0 \uc911\uad6d\uc5b4\ub97c \ub2e4 \uc544\ub294 \uac83\uc740 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. \uadf8\ub7ec\ub098 \uc77c\ubc18\uc801\uc778 \uc911\uad6d \ud45c\uc900\uc5b4(\uac04\uc8fc)\uc640 \uc77c\ubd80 \uc9c0\uc5ed \ubc29\uc5b8\uc744 \ud3ec\ud568\ud558\uc5ec, \uae30\ubcf8\uc801\uc778 \uc911\uad6d\uc5b4 \ud45c\ud604\uacfc \ubb38\ubc95\uc744 \uc81c\uacf5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c, \uc911\uad6d\uc5b4\uc5d0 \ub300\ud55c \uae30\ubcf8\uc801\uc778 \uc9c0\uc2dd\uacfc \uc6a9\uc5b4\ub97c \uacf5\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uad81\uae08\ud558\uc2e0 \ubd80\ubd84\uc774 \uc788\uc73c\uc2dc\ub2e4\uba74 \ubb3c\uc5b4\ubcf4\uc138\uc694! \ub354 \uad6c\uccb4\uc801\uc73c\ub85c \uc5b4\ub5a4 \uc8fc\uc81c\uc5d0 \ub300\ud574 \uc54c\uace0 \uc2f6\uc73c\uc2e0\uc9c0 \uc54c\ub824\uc8fc\uc2dc\uba74, \ub354\uc6b1 \uc790\uc138\ud788 \uc124\uba85 \ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(e.p,{children:"\uc2e0\uae30\ud558\uac8c\ub3c4, LLM \ubaa8\ub378\uc774 \uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud55c \ud655\ub960\uc774 0\uc5d0 \uc218\ub834\ud558\uc5ec \uc0dd\uc131\ud560 \uc218 \uc5c6\uc5c8\uae30\uc5d0, \ud55c\uad6d\uc5b4\ub85c \ub300\ub2f5\ud558\uaca0\ub2e4\uace0 \ub2f5\ubcc0\ud558\ub294 \uacb0\uacfc\ub97c \uc5bb\uc5c8\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(e.p,{children:"4.\uacb0\ub860"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\ubaa8\ub378\uc774 \ucd94\ub860\ud560 \ub54c\uc5d0 \uc120\ud0dd\ud560 \uc218 \uc788\ub294 \ud1a0\ud070 \ubc94\uc704\ub97c \uc784\uc758\ub85c \uc870\uc815\ud558\uc5ec \uc911\uad6d\uc5b4 \ud1a0\ud070\uc5d0 \ub300\ud55c \ud655\ub960\uc744 0\uc5d0 \uc218\ub834\ud558\ub3c4\ub85d \uc218\uc815"}),"\n",(0,i.jsx)(e.li,{children:"\uac04\ub2e8\ud55c \ucc98\ub9ac\ub85c \uc911\uad6d\uc5b4 \ud1a0\ud070\uc744 \ucd9c\ub825\ud558\uc9c0 \uc54a\ub294 \uc989\uac01\uc801\uc778 \uacb0\uacfc\ub97c \ud655\uc778"}),"\n",(0,i.jsx)(e.li,{children:"\uc911\uad6d\uc5b4 \uc678\uc5d0\ub3c4 \ub2e4\ub978 \uc678\uad6d\uc5b4\ub3c4 \ud1a0\ud070 \ubc94\uc704\ub9cc \uc548\ub2e4\uba74 \uc81c\uc678\ud560 \uc218 \uc788\uc74c"}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.ol,{start:"5",children:["\n",(0,i.jsx)(e.li,{children:"\ucd94\uac00 \uc131\ub2a5 \uad00\ub828 \ub9ac\ud3ec\ud2b8\nLogitProcessor \ucc98\ub9ac \uad00\ub828 \ub85c\uc9c1\uc740, LLM \ubaa8\ub378\uc758 \ucd5c\ucd08 generate\uc5d0\uc11c \uccab \ubc88\uc9f8 \ud1a0\ud070 \uc0dd\uc131 \uc2dc \ud55c\ubc88 \ucc98\ub9ac\ud558\uac8c \ub429\ub2c8\ub2e4.\n\uad00\ub828\ud558\uc5ec \uae30\uc874 \uccab \ubc88\uc9f8 \ud1a0\ud070 \uc0dd\uc131 \uc2dc\uac04\uc778 TTFT\uac00 \uc5bc\ub9c8\ub098 \ub290\ub824\uc9c0\ub294\uac00\uc5d0 \ub300\ud574 \ub9ac\ud3ec\ud2b8\ub97c \ub0a8\uaca8\ub193\uc2b5\ub2c8\ub2e4."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Qwen2.5-7B-Instruct \ubaa8\ub378 \uae30\uc900"}),"\n",(0,i.jsx)(e.p,{children:"\ubaa8\ub378\uc758 \uccab\ubc88\uc9f8 generate \uc2dc,"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"TTFT: 1534.34ms, TPS: 39.77 tokens/sec"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\uadf8 \uc774\ud6c4,"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"TTFT: 101.48ms, TPS: 39.72 tokens/sec"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\ub9ac\ud3ec\ud2b8 \ub300\ub85c \uccab\ubc88\uc9f8 generate\uc5d0\uc11c \uccab \ud1a0\ud070 \uc0dd\uc131 \uc2dc \uc0dd\uc131 \uc18d\ub3c4\uac00 \ub9ce\uc774 \ub290\ub824\uc9c0\ub294 \uac83\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\ub530\ub77c\uc11c \uc0ac\uc6a9 \uc2dc warm up \uacfc\uc815\uc774 \ud55c\ubc88 \ud544\uc694\ud568\uc744 \uacf5\uc720\ub4dc\ub9bd\ub2c8\ub2e4."}),"\n",(0,i.jsx)(e.p,{children:"\ud1a0\ud070 \ubc94\uc704 \uc81c\ud55c\uc5d0 \ub530\ub978 \uc131\ub2a5\uc800\ud558\ub294 \uc544\uc9c1 \uccb4\uac10\ud558\uc9c0 \ubabb\ud588\uc73c\uba70 \uad00\ub828 \uc774\uc288 \ubc1c\uc0dd \uc2dc \ucd94\ud6c4 \ucf54\uba58\ud2b8\ub97c \ub2ec\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."})]})}function a(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(h,{...n})}):h(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>l,x:()=>o});var r=s(6540);const i={},t=r.createContext(i);function l(n){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:l(n.components),r.createElement(t.Provider,{value:e},n.children)}},8982:n=>{n.exports=JSON.parse('{"permalink":"/blog/2025/03/17/","editUrl":"https://github.com/logicbaron/logicbaron.github.io/tree/dev/blog/2025-03-17.md","source":"@site/blog/2025-03-17.md","title":"Qwen \uc5d0\uc11c \uc911\uad6d\uc5b4 \uc5c6\uc560\uae30.","description":"\uc911\uad6d LLM \uc778\ub370 vllm \uc744 \uc9c0\uc6d0\ud55c\ub2e4\uba74 \uc77c\uad00\uc801\uc73c\ub85c \uc0ac\uc6a9\ud574\ubcfc \uc218 \uc788\uc744 \uac83 \uac19\uc740 \ubc29\ubc95.","date":"2025-03-17T00:00:00.000Z","tags":[],"readingTime":5.635,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"prevItem":{"title":"Best_of vs BeamSearch","permalink":"/blog/2025/03/31/asset/"},"nextItem":{"title":"DuckDB","permalink":"/blog/2024/07/22/"}}')}}]);